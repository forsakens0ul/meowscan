<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å–µæ˜Ÿäººæ€§æ ¼é‰´å®šä¹¦</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Ma Shan Zheng', cursive;
            background: #FFF5E0;
            color: #6D4C3D;
            text-align: center;
            padding: 0;
            margin: 0;
        }
        .container {
            max-width: 100%;
            padding: 20px;
        }
        .cat-paw {
            width: 60px;
            animation: float 2s infinite alternate;
        }
        @keyframes float {
            from { transform: translateY(0); }
            to { transform: translateY(-15px); }
        }
        .btn {
            background: #FF9A76;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 18px;
            color: white;
            cursor: pointer;
            margin: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        .btn:hover {
            transform: scale(1.05);
            background: #FF6B6B;
        }
        .result-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            margin: 20px auto;
            max-width: 300px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        .cat-img {
            width: 100%;
            border-radius: 15px;
            margin: 10px 0;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app" class="container">
        <!-- é¦–é¡µ -->
        <div v-if="stage === 'home'">
            <img src="https://img.icons8.com/ios-filled/100/000000/cat-footprint.png" class="cat-paw">
            <h1>å–µæ˜Ÿäººæ€§æ ¼é‰´å®šä¹¦</h1>
            <p>10ç§’è§£é”ä½ çš„å¤©å‘½çŒ«çŒ«<br>ä¸å‡†ä¸å‡†...æ‰æ€ªï¼ğŸ¾</p>
            <button class="btn" @click="stage = 'select'">ç«‹å³æµ‹å–µ</button>
        </div>

        <!-- æµ‹è¯•ç±»å‹é€‰æ‹© -->
        <div v-if="stage === 'select'">
            <h2>è¯·é€‰æ‹©ä½ çš„å åœæ–¹å¼</h2>
            <button class="btn" @click="startTest('mbti')">ğŸ§™â€â™€ï¸ MBTIçŒ«æ ¼ç‰ˆ</button>
            <button class="btn" @click="startTest('bazi')">ğŸ® å…«å­—å¸çŒ«æœ¯</button>
        </div>

        <!-- MBTIæµ‹è¯•é—®é¢˜ -->
        <div v-if="stage === 'test' && testType === 'mbti'">
            <h3>ç¬¬ {{ currentQuestion + 1 }} é¢˜/4</h3>
            <p>{{ mbtiQuestions[currentQuestion].text }}</p>
            <div v-for="(option, index) in mbtiQuestions[currentQuestion].options" :key="index">
                <button class="btn" @click="answerQuestion(option.type)">{{ option.text }}</button>
            </div>
        </div>

        <!-- å…«å­—æµ‹è¯•é—®é¢˜ -->
        <div v-if="stage === 'test' && testType === 'bazi'">
            <h3>è¾“å…¥ä½ çš„å‡ºç”Ÿä¿¡æ¯</h3>
            <input type="date" v-model="birthDate" class="btn" style="width:80%">
            <button class="btn" @click="calculateBazi">ç«‹å³æµ‹ç®—</button>
        </div>

        <!-- ç»“æœé¡µ -->
        <div v-if="stage === 'result'" class="result-card">
            <h2>ã€ä½ çš„æœ¬å‘½çŒ«ã€‘{{ resultCat.name }}</h2>
            <img :src="resultCat.image" class="cat-img">
            <p>ğŸ± çŒ«æ ¼åˆ†æï¼š{{ resultCat.description }}<br>
            ğŸ’¡ é€‚é…ç†ç”±ï¼š{{ resultCat.reason }}</p>
            
            <button class="btn" @click="shareResult">æ™’çŒ«æ—æŠ¤ç…§</button>
            <button class="btn" @click="stage = 'home'">å†æµ‹ä¸€æ¬¡</button>
            
            <div v-if="showAd" style="margin-top:20px;font-size:12px;">
                <p>é¢†å…»çœŸå®çŒ«å’ª â†’ <a href="#">XXçŒ«èˆ</a></p>
            </div>
        </div>
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                stage: 'home',
                testType: '',
                currentQuestion: 0,
                mbtiType: '',
                birthDate: '',
                resultCat: null,
                showAd: false,
                mbtiQuestions: [
                    {
                        text: "å‘¨æœ«ä½ æ›´æ„¿æ„å¦‚ä½•åº¦è¿‡ï¼Ÿ",
                        options: [
                            { text: "å’ŒçŒ«å‹èšä¼šï¼ˆå¤–å‘Eï¼‰", type: "E" },
                            { text: "ç‹¬è‡ªæ’¸çŒ«ï¼ˆå†…å‘Iï¼‰", type: "I" }
                        ]
                    },
                    {
                        text: "é‡åˆ°çŒ«å’ªæ£ä¹±æ—¶ä½ ä¼šï¼Ÿ",
                        options: [
                            { text: "å…ˆæ‹ç…§å‘æœ‹å‹åœˆï¼ˆç›´è§‰Nï¼‰", type: "N" },
                            { text: "ç«‹å³æ”¶æ‹¾æ®‹å±€ï¼ˆå®æ„ŸSï¼‰", type: "S" }
                        ]
                    },
                    {
                        text: "é€‰æ‹©çŒ«ç²®æ—¶ä½ æ›´æ³¨é‡ï¼Ÿ",
                        options: [
                            { text: "è¥å…»æˆåˆ†è¡¨ï¼ˆæ€è€ƒTï¼‰", type: "T" },
                            { text: "çŒ«å’ªåƒå¾—å¼€å¿ƒï¼ˆæƒ…æ„ŸFï¼‰", type: "F" }
                        ]
                    },
                    {
                        text: "ä½ çš„å…»çŒ«è®¡åˆ’é€šå¸¸æ˜¯ï¼Ÿ",
                        options: [
                            { text: "ä¸¥æ ¼æŒ‰æ—¶é—´è¡¨ï¼ˆåˆ¤æ–­Jï¼‰", type: "J" },
                            { text: "çœ‹å¿ƒæƒ…éšæ€§æ¥ï¼ˆæ„ŸçŸ¥Pï¼‰", type: "P" }
                        ]
                    }
                ],
                catDatabase: {
                    "INTJ": {
                        name: "é«˜å†·ä¿„ç½—æ–¯è“çŒ«",
                        image: "https://cdn.pixabay.com/photo/2017/02/20/18/03/cat-2083492_640.jpg",
                        description: "æ™ºå•†çˆ†è¡¨çš„çŒ«ä¸­å“²å­¦å®¶",
                        reason: "ä½ ä»¬éƒ½æ˜¯ç†æ€§è‡³ä¸Šä¸»ä¹‰è€…ï¼Œæ“…é•¿ç”¨çœ¼ç¥è¡¨è¾¾'æ„šè ¢çš„äººç±»'"
                    },
                    "ENFP": {
                        name: "è¯ç—¨æš¹ç½—çŒ«",
                        image: "https://cdn.pixabay.com/photo/2015/11/16/22/14/cat-1046544_640.jpg",
                        description: "ç¤¾äº¤ç‰›é€¼ç—‡æ‚£è€…",
                        reason: "ä½ ä»¬éƒ½èƒ½åœ¨5åˆ†é’Ÿå†…å’Œé™Œç”Ÿäººæˆä¸ºæœ‹å‹"
                    },
                    // å…¶ä»–MBTIç±»å‹çŒ«æ•°æ®...
                    "default": {
                        name: "ä¸­åæ°”æ­»çŒ«",
                        image: "https://cdn.pixabay.com/photo/2014/04/13/20/49/cat-323262_640.jpg",
                        description: "åˆæ‡’åˆé¦‹ä½†æ²»æ„ˆåŠ›MAX",
                        reason: "ä½ ä»¬ç»„åˆèµ·æ¥å°±æ˜¯'èººå¹³ç•Œ'çš„é»„é‡‘CP"
                    }
                }
            },
            methods: {
                startTest(type) {
                    this.testType = type;
                    this.stage = 'test';
                },
                answerQuestion(type) {
                    this.mbtiType += type;
                    if (this.currentQuestion < this.mbtiQuestions.length - 1) {
                        this.currentQuestion++;
                    } else {
                        this.showResult();
                    }
                },
                calculateBazi() {
                    // ç®€åŒ–çš„å…«å­—è®¡ç®—ï¼ˆå®é™…åº”è°ƒç”¨ä¸“ä¸šåº“ï¼‰
                    const month = new Date(this.birthDate).getMonth() + 1;
                    this.mbtiType = month % 2 === 0 ? "ENFP" : "INTJ"; // ç¤ºä¾‹é€»è¾‘
                    this.showResult();
                },
                showResult() {
                    this.resultCat = this.catDatabase[this.mbtiType] || this.catDatabase["default"];
                    this.stage = 'result';
                    setTimeout(() => { this.showAd = true }, 2000);
                },
                shareResult() {
                    alert("å·²å¤åˆ¶åˆ†äº«é“¾æ¥åˆ°å‰ªè´´æ¿\nå®é™…é¡¹ç›®éœ€æ¥å…¥å¾®ä¿¡SDK");
                    // å®é™…åº”ä½¿ç”¨å¾®ä¿¡JS-SDKæˆ–navigator.share API
                }
            }
        });
    </script>
</body>
</html>
